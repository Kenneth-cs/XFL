# 幸福力项目目录结构说明

为了避免文件路径混淆，特此整理当前项目的目录结构及功能划分。

## 1. 核心应用目录

| 目录名 | 说明 | 技术栈 |
| :--- | :--- | :--- |
| **`backend/`** | **后端服务** | NestJS, TypeORM, MySQL, Redis |
| **`frontend-admin/`** | **后台管理前端** | Vue 3, Ant Design Vue, Vite |
| **`frontend-h5/`** | **前台移动端/H5** | Vue 3, Vant UI, Vite |

### 1.1 后端结构 (`backend/src/`)

*   `modules/`: 业务模块，包含 Controller, Service, DTO 等。
    *   `auth/`: 认证模块 (登录, JWT)
    *   `user/`: 用户管理 (前后台用户, 档案)
    *   `store/`: 门店管理
    *   `assessment/`: 测评系统 (九型, 依恋, 幸福力)
    *   `match/`: 智能匹配系统
    *   `mv/`: MV值计算
    *   `service-track/`: 服务轨迹 (匹配/约见/治疗记录)
    *   `upload/`: 文件上传
*   `entities/`: TypeORM 实体定义 (对应数据库表)。
*   `common/`: 通用组件 (Guards, Decorators, Filters)。
*   `constants/`: 常量定义 (如题库数据)。

### 1.2 后台前端结构 (`frontend-admin/src/`)

*   `views/`: 页面视图。
    *   `members/`: 会员档案管理 (列表, 详情, 服务轨迹)。
    *   `system/`: 系统管理 (门店, 角色, 用户)。
    *   `match/`: 智能匹配。
*   `api/`: 后端接口封装。
*   `layout/`: 布局组件。

### 1.3 前台前端结构 (`frontend-h5/src/`)

*   `views/`: 页面视图。
    *   `assessment/`: 测评答题与结果页。
    *   `user/`: 用户中心 (注册, 登录, 资料)。
*   `components/`: 通用组件。

## 2. 文档与资源

| 目录名 | 说明 |
| :--- | :--- |
| **`项目核心文档/`** | **最核心的设计文档** (PRD, 架构设计, 数据库设计)。 |
| **`database/`** | **SQL 脚本** (建表, 初始化数据, 修复脚本)。 |
| `题库及计算展示逻辑/` | 测评系统的算法与展示规则说明。 |
| `匹配相关/` | 匹配算法与MV值计算规则说明。 |
| `服务轨迹/` | 服务轨迹功能需求说明。 |
| `开发过程文档进度说明/` | 记录开发过程中的具体功能实现与修复日志。 |
| `信息收集/` | 早期需求收集与字段定义。 |

## 3. 常用操作指南

### 3.1 启动服务

在根目录下运行：

```bash
# 启动所有服务 (后端 + 两个前端)
./scripts/start-all.sh
```

或者分别启动：

*   **后端**: `cd backend && npm run start:dev` (端口 3000)
*   **后台**: `cd frontend-admin && npm run dev` (端口 5175)
*   **前台**: `cd frontend-h5 && npm run dev` (端口 5173)

### 3.2 数据库操作

*   SQL 脚本均位于 `database/` 目录。
*   在执行 `write` 或 `read_file` 操作时，请务必确认当前上下文路径。

### 3.3 注意事项

*   **后端文件路径**：通常以 `backend/src/...` 开头。
*   **不要混淆**：不要在 `backend/` 目录下再次创建 `backend/` 目录（曾发生过的错误）。
*   **相对路径**：Cursor 的工具通常基于 **项目根目录** (`/Users/cs/Desktop/CS/创业/相亲项目开发/幸福力项目开发`) 运行，而非子目录。

---
*文档更新日期：2026-01-18*

