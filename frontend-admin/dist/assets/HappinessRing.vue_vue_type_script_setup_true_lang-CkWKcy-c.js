import{i as d,H as c}from"./happiness-config-C0dL6Xsa.js";import{d as p,r as u,o as f,q as m,K as b,c as y,H as w,i as x}from"./index-htUCjobA.js";const k=p({__name:"HappinessRing",props:{data:{type:Object,default:()=>({})},width:{type:[String,Number],default:"80px"},height:{type:[String,Number],default:"80px"},showLabel:{type:Boolean,default:!1}},setup(e){const s=e,n=u(null);let t=null;const h=()=>{n.value&&(t=d(n.value),r())},r=()=>{if(!t)return;const o=c,l={backgroundColor:"transparent",polar:{radius:s.showLabel?["15%","85%"]:["10%","100%"]},angleAxis:{type:"category",data:o.map(a=>a.outer),startAngle:90,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:s.showLabel,interval:0,color:"#333",fontSize:11,margin:5},splitLine:{show:!1}},radiusAxis:{min:0,max:10,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[{type:"bar",data:o.map(a=>{var i;return{value:((i=s.data)==null?void 0:i[a.name])||0,itemStyle:{color:a.color}}}),coordinateSystem:"polar",stack:"happiness-stack",barWidth:"98%",z:2,itemStyle:{borderRadius:0}},{type:"bar",data:o.map(a=>{var i;return{value:10-(((i=s.data)==null?void 0:i[a.name])||0),itemStyle:{color:"#f9f9f9",borderColor:"#e0e0e0",borderWidth:1}}}),coordinateSystem:"polar",stack:"happiness-stack",barWidth:"98%",z:1,silent:!0}]};t.setOption(l)};return f(()=>{h()}),m(()=>s.data,()=>{r()},{deep:!0}),b(()=>{t&&(t.dispose(),t=null)}),(o,l)=>(x(),y("div",{ref_key:"chartRef",ref:n,style:w({width:typeof e.width=="number"?e.width+"px":e.width,height:typeof e.height=="number"?e.height+"px":e.height})},null,4))}});export{k as _};
