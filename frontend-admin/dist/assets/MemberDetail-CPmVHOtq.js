import{d as Oe,r as A,a as _e,n as ee,o as Ne,q as Pe,c as d,b as u,e as a,f as b,w as t,j as c,s as p,l as y,t as o,F as h,k as T,g as X,h as z,x as de,i as n,_ as Fe,p as $e,y as Be,v as O,u as Ve,z as Ye,Q as Z}from"./index-htUCjobA.js";import{c as je,g as qe,i as Re,a as Ue,E as He}from"./happiness-config-C0dL6Xsa.js";const Le=["标准会员","高级会员","VIP会员","SVIP定制服务会员","情感陪护会员","情感挽回会员","情感修复会员","结婚对象背景匹配度探索服务"],Ze=["正常服务","暂停服务","合同结束"],Ge=["一般","帅/网红"],Ke=["白羊座 (3.21-4.19)","金牛座 (4.20-5.20)","双子座 (5.21-6.21)","巨蟹座 (6.22-7.22)","狮子座 (7.23-8.22)","处女座 (8.23-9.22)","天秤座 (9.23-10.23)","天蝎座 (10.24-11.22)","射手座 (11.23-12.21)","摩羯座 (12.22-1.19)","水瓶座 (1.20-2.18)","双鱼座 (2.19-3.20)"],Qe=["A型","B型","O型","AB型","熊猫血(Rh阴性)"],Je=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],Xe=["A","B","C","D","E及以上"],We=["无","有"],et=["10w以下","10w-20w","20w-50w","50w-100w","100w以上"],tt=["无","有"],at=["无","有"],lt=["父母恩爱，互相尊重家庭有爱","父母冲突（家庭缺爱）","父母离异（家庭健康）"],st=["大专以下","大专","二本","普通一本","211大学","985或更高"],nt=[{label:"12.5 (极高)",value:12.5},{label:"10.5 (高)",value:10.5},{label:"8.5 (中)",value:8.5},{label:"6.5 (低)",value:6.5}],ot=["自我认知","情绪管理","自我激励","认知他人情绪","处理人际关系"],De={安全型:{type:"安全型",fullName:"安全型依恋",label:"健康核心型",dimensions:"低焦虑 + 低回避",coreTraits:"安全感充足，既信任伴侣、愿意亲密，又能保持自我独立，是最健康的依恋类型。",behaviors:["沟通直接坦诚：开心时主动分享，有矛盾时愿意直面沟通，不冷战、不指责","亲密与独立平衡：享受和伴侣的相处，也能坦然接受彼此的独处时间，不粘人、不疏离","情绪稳定：不会因伴侣的小疏忽过度猜忌，被拒绝 / 产生矛盾时，能理性看待，不极端","懂得共情：能感知伴侣的情绪需求，主动提供支持，也能坦然向伴侣求助"],advantage:"适配所有依恋类型，能包容伴侣的依恋短板，是亲密关系中的「稳定器」，关系质量往往最高。",color:"#52c41a"},焦虑型:{type:"焦虑型",fullName:"焦虑型依恋",label:"渴求亲密型",dimensions:"高焦虑 + 低回避",coreTraits:"极度渴望亲密与认可，害怕被抛弃，对关系的安全感极低，习惯通过「索取关注」确认爱意。",behaviors:["患得患失：伴侣回复消息慢、语气冷淡，就会脑补「对方不爱自己」，陷入焦虑","过度索取联结：频繁发消息、打电话，要求报备行程，渴望时刻黏在一起，害怕独处","情绪波动大：被忽视时易委屈、愤怒、哭闹，被安抚后又快速平复，反复循环","低自我价值：把伴侣的态度当作自我价值的评判标准，会为了留住对方妥协、讨好，甚至放弃自我边界"],painPoint:"过度依赖会给伴侣带来巨大压力，容易让关系陷入「追 - 逃」模式，越焦虑越抓紧，伴侣越想回避。",color:"#faad14"},回避型:{type:"回避型",fullName:"回避型依恋",label:"疏离独立型",dimensions:"低焦虑 + 高回避",coreTraits:"极度重视个人独立，排斥情感亲密与依赖，习惯用「疏离」和「冷漠」保护自己，内心深处害怕被束缚。",behaviors:["抗拒过度亲密：伴侣主动撒娇、倾诉、肢体亲密时，会下意识回避，感到烦躁","情感封闭：很少袒露内心的脆弱与真实想法，被追问感受时，常以「没事」「没必要」敷衍","逃避冲突：发生矛盾时第一反应是冷战、拉黑、失联，拒绝沟通，认为「独处比解决问题更重要」","假性独立：嘴上说「不需要伴侣」，内心深处渴望被爱，但不敢接受，会把亲密等同于「失去自由」"],painPoint:"疏离的行为会让伴侣感到被忽视、被冷落，长期下来消耗对方的爱意，难以建立深度联结。",color:"#1890ff"},紊乱型:{type:"紊乱型",fullName:"恐惧型依恋（紊乱型）",label:"矛盾纠结型",dimensions:"高焦虑 + 高回避",coreTraits:"内心充满极致矛盾—— 既极度渴望亲密、害怕被抛弃（高焦虑），又极度抗拒亲密、害怕被伤害（高回避），是最不稳定的依恋类型。",behaviors:["亲密推拉：伴侣靠近时，会下意识推开、疏离；伴侣离开时，又会极度焦虑、拼命挽回，反复陷入「追 - 逃 - 追」","敏感又冷漠：对伴侣的负面信号极度敏感，容易脑补被抛弃，却又不愿主动沟通，用冷漠伪装自己的脆弱","信任匮乏：很难真正信任伴侣，即使对方表达爱意，也会怀疑其真实性，害怕投入后被背叛","自我内耗：一边渴望稳定的亲密关系，一边又不断破坏关系，陷入「想要爱，又怕爱」的极致内耗"],painPoint:"自身的矛盾会让关系反复拉扯，不仅折磨自己，也会让伴侣感到疲惫，是亲密关系中最难磨合的类型。",color:"#f5222d"}};function it(E){if(E==="恐惧型"||E.includes("恐惧"))return De.紊乱型;const w=E.replace(/依恋|型依恋/g,"").trim();for(const H in De)if(H===w||E.includes(H))return De[H];return null}function we(E,w){var j;const Y=w>=5?"高":"低";return((j={A:{高:"对关系被抛弃、不被爱的担忧程度较高",低:"对关系的安全感较强，不易焦虑"},B:{高:"对情感亲密、过度依赖的抗拒程度较高",低:"愿意建立情感亲密，不排斥依赖"},C:{高:"安全感充足，信任伴侣",低:"安全感不足，需要建立信任"}}[E])==null?void 0:j[Y])||""}const ut={class:"service-tracks"},rt={class:"header-actions mb-4"},dt={key:0},ft={key:1},mt={key:5},pt={key:6},vt={key:7},ct={key:8},yt={key:9},_t={key:10},bt={class:"readonly-text"},gt={class:"readonly-text"},kt=Oe({__name:"ServiceTracks",props:{userId:{},userName:{},type:{}},setup(E){const w=E,H=A(!1),Y=A([]),q=_e({current:1,pageSize:10,total:0}),j=A(!1),W=A(!1),te=A(!1),ne=A(""),ae=A(!1),L=A([]),ie=ee(()=>`${te.value?"编辑":"新增"}${{1:"匹配轨迹",2:"约见轨迹",3:"治疗轨迹"}[w.type]||"记录"}`),f=_e({targetId:void 0,eventTime:void 0,status:void 0,feedbackContent:{},viewerRole:void 0,myResult:void 0,peerResult:void 0,myFeedback:void 0,peerFeedback:void 0}),G=ee(()=>w.type===1?[{title:"时间",dataIndex:"eventTime",key:"eventTime",width:160},{title:"发起方",key:"initiatorName",width:120},{title:"发起方ID",dataIndex:"initiatorId",key:"initiatorId",width:120},{title:"匹配方",key:"targetName",width:120},{title:"匹配方ID",dataIndex:"targetId",key:"targetId",width:120},{title:"本方结果",key:"myResult",width:100},{title:"对方结果",key:"peerResult",width:100},{title:"记录人",dataIndex:"createdBy",key:"createdBy",width:120},{title:"操作",key:"action",width:80,fixed:"right"}]:w.type===2?[{title:"时间",dataIndex:"eventTime",key:"eventTime",width:160},{title:"发起方",key:"initiatorName",width:120},{title:"发起方ID",dataIndex:"initiatorId",key:"initiatorId",width:120},{title:"约见方",key:"targetName",width:120},{title:"约见方ID",dataIndex:"targetId",key:"targetId",width:120},{title:"约见进度",key:"status",width:100},{title:"本方反馈",key:"myFeedback",width:120,ellipsis:!0},{title:"对方反馈",key:"peerFeedback",width:120,ellipsis:!0},{title:"记录人",dataIndex:"createdBy",key:"createdBy",width:120},{title:"操作",key:"action",width:80,fixed:"right"}]:[{title:"用户ID",dataIndex:"initiatorId",key:"initiatorId",width:120},{title:"用户姓名",key:"initiatorName",width:120},{title:"服务时间",dataIndex:"eventTime",key:"eventTime",width:160},{title:"用户需求",key:"demand",width:150,ellipsis:!0},{title:"服务方案",key:"plan",width:150,ellipsis:!0},{title:"服务效果",key:"effect",width:120,ellipsis:!0},{title:"服务老师",dataIndex:"createdBy",key:"createdBy",width:120},{title:"下次预约",key:"nextTime",width:160},{title:"操作",key:"action",width:80,fixed:"right"}]),oe=ee(()=>w.type===1?[{label:"看中",value:1},{label:"未看中",value:0},{label:"待反馈",value:2}]:w.type===2?[{label:"已约见",value:1},{label:"未约见",value:0},{label:"取消",value:2}]:[]),e=async()=>{H.value=!0;try{const i=await X.get("/service-tracks",{params:{initiatorId:w.userId,type:w.type,page:q.current,limit:q.pageSize}});Y.value=i.items||[],q.total=i.total||0}catch{z.error("加载记录失败")}finally{H.value=!1}},g=async i=>{if(!i||i.trim().length===0){L.value=[];return}ae.value=!0;try{const r=i.trim(),m=/^XFL\d+$/i.test(r),v=/^1[3-9]\d{9}$/.test(r);let k={page:1,limit:20};m?k.userId=r.toUpperCase():v?k.phone=r:k.name=r;const I=await X.get("/users/app",{params:k}),M=I.items||I.data||[];L.value=M.map(S=>{var C,P;return{id:S.id,name:((P=(C=S.profile)==null?void 0:C.baseInfo)==null?void 0:P.name)||S.phone||"未命名"}}),L.value.length===0&&z.warning("未找到匹配的用户")}catch(r){console.error("搜索用户失败:",r),z.error("搜索用户失败")}finally{ae.value=!1}},K=async()=>{te.value=!1,f.targetId=void 0,f.eventTime=de(),f.status=void 0,f.feedbackContent={},f.viewerRole="initiator",f.myResult=void 0,f.peerResult=void 0,f.myFeedback=void 0,f.peerFeedback=void 0,j.value=!0,await fe()},fe=async()=>{ae.value=!0;try{const i=await X.get("/users/app",{params:{page:1,limit:20}}),r=i.items||i.data||[];L.value=r.map(m=>{var v,k;return{id:m.id,name:((k=(v=m.profile)==null?void 0:v.baseInfo)==null?void 0:k.name)||m.phone||"未命名"}})}catch(i){console.error("加载用户列表失败:",i)}finally{ae.value=!1}},U=i=>{var r,m,v,k,I,M,S,C;te.value=!0,ne.value=i.id,f.targetId=i.targetId,f.eventTime=de(i.eventTime),f.status=i.status,f.feedbackContent=i.feedbackContent||{},f.viewerRole=i.viewerRole,w.type===1?i.viewerRole==="initiator"?(f.myResult=(r=i.feedbackContent)==null?void 0:r.myResult,f.peerResult=(m=i.feedbackContent)==null?void 0:m.peerResult):(f.myResult=(v=i.feedbackContent)==null?void 0:v.peerResult,f.peerResult=(k=i.feedbackContent)==null?void 0:k.myResult):w.type===2&&(i.viewerRole==="initiator"?(f.myFeedback=(I=i.feedbackContent)==null?void 0:I.feedback,f.peerFeedback=(M=i.feedbackContent)==null?void 0:M.peerFeedback):(f.myFeedback=(S=i.feedbackContent)==null?void 0:S.peerFeedback,f.peerFeedback=(C=i.feedbackContent)==null?void 0:C.feedback)),i.targetId&&i.targetName&&(L.value=[{id:i.targetId,name:i.targetName}]),j.value=!0},Q=async()=>{W.value=!0;try{if(te.value){const i={};f.status!==void 0&&f.status!==null&&w.type!==3&&(i.status=Number(f.status)),f.eventTime&&(i.eventTime=de(f.eventTime).format("YYYY-MM-DDTHH:mm:ss"));const r={};w.type===1?f.viewerRole==="initiator"?r.myResult=f.myResult:r.peerResult=f.myResult:w.type===2?f.viewerRole==="initiator"?r.feedback=f.myFeedback:r.peerFeedback=f.myFeedback:w.type===3&&Object.assign(r,f.feedbackContent),i.feedbackContent=r,await X.put(`/service-tracks/${ne.value}`,i),z.success("更新成功")}else{const i={initiatorId:w.userId,type:w.type,eventTime:f.eventTime?de(f.eventTime).format("YYYY-MM-DDTHH:mm:ss"):de().format("YYYY-MM-DDTHH:mm:ss")};f.targetId&&(i.targetId=f.targetId),f.status!==void 0&&f.status!==null&&w.type!==3&&(i.status=Number(f.status));const r={};w.type===1?r.myResult=f.myResult||"待反馈":w.type===2?r.feedback=f.myFeedback||"":w.type===3&&Object.assign(r,f.feedbackContent),i.feedbackContent=r,await X.post("/service-tracks",i),z.success("创建成功")}j.value=!1,e()}catch(i){console.error("Service track operation failed:",i),z.error("操作失败")}finally{W.value=!1}},be=i=>{q.current=i.current,q.pageSize=i.pageSize,e()},ge=i=>{const r=oe.value.find(m=>m.value===i);return r?r.label:i},ke=i=>i===1?"success":i===0?"error":"default",me=i=>i.feedbackContent?i.viewerRole==="initiator"?i.feedbackContent.myResult||"待反馈":i.feedbackContent.peerResult||"待反馈":"待反馈",Ie=i=>{const r=me(i);return r==="看中"?"success":r==="未看中"?"error":"default"},ue=i=>i.feedbackContent?i.viewerRole==="initiator"?i.feedbackContent.peerResult||"待反馈":i.feedbackContent.myResult||"待反馈":"待反馈",x=i=>{const r=ue(i);return r==="看中"?"success":r==="未看中"?"error":"default"},l=i=>i.feedbackContent?i.viewerRole==="initiator"?i.feedbackContent.feedback||"-":i.feedbackContent.peerFeedback||"-":"-",D=i=>i.feedbackContent?i.viewerRole==="initiator"?i.feedbackContent.peerFeedback||"-":i.feedbackContent.feedback||"-":"-";return Ne(()=>{e()}),Pe(()=>w.userId,()=>{e()}),(i,r)=>{const m=b("a-button"),v=b("a-tag"),k=b("a-table"),I=b("a-select-option"),M=b("a-select"),S=b("a-form-item"),C=b("a-date-picker"),P=b("a-textarea"),B=b("a-form"),xe=b("a-modal");return n(),d("div",ut,[u("div",rt,[a(m,{type:"primary",onClick:K},{default:t(()=>[...r[10]||(r[10]=[c("新增记录",-1)])]),_:1})]),a(k,{columns:G.value,"data-source":Y.value,loading:H.value,pagination:q,onChange:be,scroll:{x:1200},"row-key":"id"},{bodyCell:t(({column:_,record:N})=>{var pe,J,V,le;return[_.key==="initiatorName"?(n(),d("span",dt,o(N.initiatorName),1)):p("",!0),_.key==="targetName"?(n(),d("span",ft,o(N.targetName),1)):p("",!0),_.key==="myResult"?(n(),y(v,{key:2,color:Ie(N)},{default:t(()=>[c(o(me(N)),1)]),_:2},1032,["color"])):p("",!0),_.key==="peerResult"?(n(),y(v,{key:3,color:x(N)},{default:t(()=>[c(o(ue(N)),1)]),_:2},1032,["color"])):p("",!0),_.key==="status"?(n(),y(v,{key:4,color:ke(N.status)},{default:t(()=>[c(o(ge(N.status)),1)]),_:2},1032,["color"])):p("",!0),_.key==="myFeedback"?(n(),d("span",mt,o(l(N)),1)):p("",!0),_.key==="peerFeedback"?(n(),d("span",pt,o(D(N)),1)):p("",!0),_.key==="demand"?(n(),d("span",vt,o(((pe=N.feedbackContent)==null?void 0:pe.demand)||"-"),1)):p("",!0),_.key==="plan"?(n(),d("span",ct,o(((J=N.feedbackContent)==null?void 0:J.plan)||"-"),1)):p("",!0),_.key==="effect"?(n(),d("span",yt,o(((V=N.feedbackContent)==null?void 0:V.effect)||"-"),1)):p("",!0),_.key==="nextTime"?(n(),d("span",_t,o(((le=N.feedbackContent)==null?void 0:le.nextTime)||"-"),1)):p("",!0),_.key==="action"?(n(),y(m,{key:11,type:"link",size:"small",onClick:$=>U(N)},{default:t(()=>[...r[11]||(r[11]=[c("编辑",-1)])]),_:1},8,["onClick"])):p("",!0)]}),_:1},8,["columns","data-source","loading","pagination"]),a(xe,{visible:j.value,"onUpdate:visible":r[9]||(r[9]=_=>j.value=_),title:ie.value,onOk:Q,confirmLoading:W.value,width:"600px"},{default:t(()=>[a(B,{model:f,layout:"vertical"},{default:t(()=>[E.type!==3?(n(),y(S,{key:0,label:"关联用户",required:""},{default:t(()=>[a(M,{value:f.targetId,"onUpdate:value":r[0]||(r[0]=_=>f.targetId=_),"show-search":"",placeholder:"请输入ID或姓名搜索","filter-option":!1,onSearch:g,loading:ae.value},{default:t(()=>[(n(!0),d(h,null,T(L.value,_=>(n(),y(I,{key:_.id,value:_.id},{default:t(()=>[c(o(_.name)+" ("+o(_.id)+") ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","loading"])]),_:1})):p("",!0),a(S,{label:"时间",required:""},{default:t(()=>[a(C,{value:f.eventTime,"onUpdate:value":r[1]||(r[1]=_=>f.eventTime=_),"show-time":"",style:{width:"100%"}},null,8,["value"])]),_:1}),E.type!==3?(n(),y(S,{key:1,label:"状态/结果",required:""},{default:t(()=>[a(M,{value:f.status,"onUpdate:value":r[2]||(r[2]=_=>f.status=_)},{default:t(()=>[(n(!0),d(h,null,T(oe.value,_=>(n(),y(I,{key:_.value,value:_.value},{default:t(()=>[c(o(_.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})):p("",!0),E.type===1?(n(),d(h,{key:2},[a(S,{label:"本方结果"},{default:t(()=>[a(M,{value:f.myResult,"onUpdate:value":r[3]||(r[3]=_=>f.myResult=_)},{default:t(()=>[a(I,{value:"看中"},{default:t(()=>[...r[12]||(r[12]=[c("看中",-1)])]),_:1}),a(I,{value:"未看中"},{default:t(()=>[...r[13]||(r[13]=[c("未看中",-1)])]),_:1}),a(I,{value:"待反馈"},{default:t(()=>[...r[14]||(r[14]=[c("待反馈",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),a(S,{label:"对方结果 (只读/对方填写)"},{default:t(()=>[u("div",bt,o(f.peerResult||"暂无"),1)]),_:1})],64)):p("",!0),E.type===2?(n(),d(h,{key:3},[a(S,{label:"约见反馈"},{default:t(()=>[a(P,{value:f.myFeedback,"onUpdate:value":r[4]||(r[4]=_=>f.myFeedback=_),rows:3},null,8,["value"])]),_:1}),a(S,{label:"对方反馈 (只读)"},{default:t(()=>[u("div",gt,o(f.peerFeedback||"暂无"),1)]),_:1})],64)):p("",!0),E.type===3?(n(),d(h,{key:4},[a(S,{label:"用户需求"},{default:t(()=>[a(P,{value:f.feedbackContent.demand,"onUpdate:value":r[5]||(r[5]=_=>f.feedbackContent.demand=_),rows:2},null,8,["value"])]),_:1}),a(S,{label:"服务方案"},{default:t(()=>[a(P,{value:f.feedbackContent.plan,"onUpdate:value":r[6]||(r[6]=_=>f.feedbackContent.plan=_),rows:2},null,8,["value"])]),_:1}),a(S,{label:"服务效果"},{default:t(()=>[a(P,{value:f.feedbackContent.effect,"onUpdate:value":r[7]||(r[7]=_=>f.feedbackContent.effect=_),rows:2},null,8,["value"])]),_:1}),a(S,{label:"预约下次时间"},{default:t(()=>[a(C,{value:f.feedbackContent.nextTime,"onUpdate:value":r[8]||(r[8]=_=>f.feedbackContent.nextTime=_),"show-time":"",style:{width:"100%"}},null,8,["value"])]),_:1})],64)):p("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title","confirmLoading"])])}}}),Se=Fe(kt,[["__scopeId","data-v-c617722a"]]),It={class:"member-detail"},xt={key:0,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},ht={key:0,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Dt={key:1,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},wt={key:0,style:{color:"red"}},St={key:2,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Ct={key:0,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Tt={key:1,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Mt={key:0,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Rt={key:0,style:{color:"red"}},Ut={key:2,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Ot={key:0,style:{color:"red"}},Nt={key:2,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Ft={key:0,style:{color:"red"}},zt={key:2,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},At={key:0,style:{color:"red"}},Et={key:2,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Pt={key:0,style:{color:"red"}},$t={key:2,style:{color:"#52c41a","font-size":"12px","margin-left":"8px"}},Bt={style:{"font-weight":"bold"}},Vt={style:{"white-space":"pre-wrap","line-height":"1.8"}},Yt={key:0},jt={key:1},qt={style:{"margin-top":"8px",color:"#666"}},Ht={key:2},Lt={key:0,style:{display:"flex","flex-direction":"column",gap:"12px"}},Zt={style:{display:"flex","justify-content":"space-between","margin-bottom":"4px"}},Gt={style:{"font-weight":"500"}},Kt={style:{"font-weight":"bold",color:"#fa8c16"}},Qt={style:{"margin-top":"4px","font-size":"12px",color:"#999"}},Jt={style:{display:"flex","justify-content":"space-between","margin-bottom":"4px"}},Xt={style:{"font-weight":"500"}},Wt={style:{"font-weight":"bold",color:"#1890ff"}},ea={style:{"margin-top":"4px","font-size":"12px",color:"#999"}},ta={style:{display:"flex","justify-content":"space-between","margin-bottom":"4px"}},aa={style:{"font-weight":"500"}},la={style:{"font-weight":"bold",color:"#52c41a"}},sa={style:{"margin-top":"4px","font-size":"12px",color:"#999"}},na={key:1,class:"text-gray-400"},oa={style:{"line-height":"1.8",color:"#333"}},ia={style:{margin:"0","padding-left":"20px","line-height":"2"}},ua={style:{display:"flex",gap:"40px","justify-content":"center","margin-bottom":"24px"}},ra={style:{"text-align":"center"}},da={style:{"text-align":"center"}},fa={style:{display:"flex","flex-direction":"column",gap:"12px"}},ma={style:{"font-size":"13px"}},pa={style:{"font-size":"13px"}},va={key:2,style:{color:"#52c41a"}},ca={key:0,style:{display:"flex","align-items":"center",gap:"16px"}},ya={style:{"font-size":"20px","font-weight":"bold",color:"#f5222d"}},_a={key:1,class:"text-gray-400"},ba={style:{display:"flex","flex-direction":"column",gap:"8px"}},ga={key:0,class:"mv-dimension-item"},ka={class:"dimension-value"},Ia={class:"dimension-score"},xa={class:"dimension-desc"},ha={key:1,class:"mv-dimension-item"},Da={class:"dimension-value"},wa={class:"dimension-score"},Sa={class:"dimension-desc"},Ca={key:2,class:"mv-dimension-item"},Ta={class:"dimension-value"},Ma={class:"dimension-score"},Ra={class:"dimension-desc"},Ua={key:3,class:"mv-dimension-item"},Oa={class:"dimension-value"},Na={class:"dimension-score"},Fa={class:"dimension-desc"},za={key:4,class:"mv-dimension-item"},Aa={class:"dimension-value"},Ea={class:"dimension-score"},Pa={class:"dimension-desc"},$a={key:5,class:"mv-dimension-item"},Ba={class:"dimension-value"},Va={class:"dimension-score"},Ya={class:"dimension-desc"},ja={key:6,class:"mv-dimension-item"},qa={class:"dimension-value"},Ha={class:"dimension-score"},La={class:"dimension-desc"},Za={key:7,class:"mv-dimension-item"},Ga={class:"dimension-value"},Ka={class:"dimension-score"},Qa={class:"dimension-desc"},Ja={key:0,class:"mv-dimension-item"},Xa={class:"dimension-value"},Wa={class:"dimension-score"},el={class:"dimension-desc"},tl={key:1,class:"mv-dimension-item"},al={class:"dimension-value"},ll={class:"dimension-score"},sl={class:"dimension-desc"},nl={key:2,class:"mv-dimension-item"},ol={class:"dimension-value"},il={class:"dimension-score"},ul={class:"dimension-desc"},rl={key:3,class:"mv-dimension-item"},dl={class:"dimension-value"},fl={class:"dimension-score"},ml={class:"dimension-desc"},pl={key:4,class:"mv-dimension-item"},vl={class:"dimension-value"},cl={class:"dimension-score"},yl={class:"dimension-desc"},_l={key:5,class:"mv-dimension-item"},bl={class:"dimension-value"},gl={class:"dimension-score"},kl={class:"dimension-desc"},Il={key:6,class:"mv-dimension-item"},xl={class:"dimension-value"},hl={class:"dimension-score"},Dl={class:"dimension-desc"},wl={key:7,class:"mv-dimension-item"},Sl={class:"dimension-value"},Cl={class:"dimension-score"},Tl={class:"dimension-desc"},Ml={key:2,style:{color:"#999","font-size":"13px"}},Rl=Oe({__name:"MemberDetail",setup(E){const w=$e(),H=Ve(),Y=w.params.id,q=A(!1),j=A(!1),W=A(!1),te=A("profile"),ne=A([]),ae=JSON.parse(localStorage.getItem("admin_user")||"{}"),L=A(null),ie=A(null);let f=null,G=null;const oe=ee(()=>["super_admin","admin","manager"].includes(ae.role)),e=_e({userId:"",phone:"",serviceMatchmakerId:void 0,mvScore:null,mvDetail:null,baseInfo:{name:"",gender:"",birthday:"",height:null,weight:null,education:"",marriage:"",ethnicity:""},extInfo:{memberType:void 0,serviceStatus:void 0,serviceStatusRemark:"",serviceFee:null,serviceStartDate:null,serviceEndDate:null,appearance:void 0,zodiac:void 0,bloodType:void 0,chineseZodiac:void 0,braCup:void 0,healthCondition:"",hasThalassemia:void 0,thalassemiaDetail:"",graduatedSchool:"",major:"",residenceCity:"",company:"",jobTitle:"",annualIncome:void 0,hometown:"",hasCar:void 0,housingStatus:void 0,housingDetail:"",parentsEducation:"",parentsMaritalStatus:void 0,eqScore:[],commitmentScore:void 0,hobbies:"",skills:"",matchmakerComments:"",intro:"",partnerRequirements:"",remarks:""}}),g=_e({enneagram:null,attachment:null,happiness:null}),K=ee(()=>{var D,i,r;if(!((i=(D=g.enneagram)==null?void 0:D.resultData)!=null&&i.percentages)||!((r=e.baseInfo)!=null&&r.gender))return null;const x=g.enneagram.resultData.percentages,l=e.baseInfo.gender;return je(x,l)}),fe=ee(()=>{var x;return((x=e.baseInfo)==null?void 0:x.gender)==="男"?"女":"男"}),U=ee(()=>{var i,r;if(!((r=(i=g.attachment)==null?void 0:i.resultData)!=null&&r.type))return null;const x=g.attachment.resultData.type,l=it(x);if(!l)return null;const D={anxiety:g.attachment.resultData.anxietyScore||0,avoidance:g.attachment.resultData.avoidanceScore||0,security:g.attachment.resultData.securityScore||0};return{...l,scores:D}}),Q=ee(()=>{var x,l;return(l=(x=g.happiness)==null?void 0:x.resultData)!=null&&l.dimensions?qe(g.happiness.resultData.dimensions):null}),be=async()=>{var i,r;if(await Ye(),!((r=(i=g.happiness)==null?void 0:i.resultData)!=null&&r.dimensions)||!L.value||!ie.value)return;const x=g.happiness.resultData.dimensions;f&&f.dispose(),G&&G.dispose(),f=Re(L.value);const l=Ue(x,!1);f.setOption(l),G=Re(ie.value);const D=Ue(x,!0);G.setOption(D)},ge=async()=>{var x,l;q.value=!0;try{const D=await X.get(`/users/profile/${Y}`),i=D.data||D;e.userId=i.userId,e.phone=(x=i.user)==null?void 0:x.phone,e.serviceMatchmakerId=i.serviceMatchmakerId,e.mvScore=i.mvScore,e.mvDetail=i.mvDetail,i.baseInfo&&Object.assign(e.baseInfo,i.baseInfo),i.extInfo&&Object.assign(e.extInfo,i.extInfo),i.assessmentResults&&(g.enneagram=i.assessmentResults.enneagram,g.attachment=i.assessmentResults.attachment,g.happiness=i.assessmentResults.happiness,i.assessmentResults.happiness&&await be()),oe.value&&((l=i.user)!=null&&l.storeId)?ke(i.user.storeId):i.serviceMatchmaker&&(ne.value=[i.serviceMatchmaker])}catch(D){z.error("加载档案失败"),console.error(D)}finally{q.value=!1}},ke=async x=>{try{const l=await X.get("/users/sys",{params:{storeId:x,role:"matchmaker"}});ne.value=l.data||l||[]}catch(l){console.error("加载红娘列表失败",l)}},me=async()=>{var x,l;j.value=!0;try{const D={baseInfo:e.baseInfo,extInfo:e.extInfo};oe.value&&(D.serviceMatchmakerId=e.serviceMatchmakerId),await X.patch(`/users/profile/${Y}`,D),z.success("保存成功")}catch(D){z.error(((l=(x=D.response)==null?void 0:x.data)==null?void 0:l.message)||"保存失败")}finally{j.value=!1}},Ie=()=>{const{gender:x,birthday:l,height:D,weight:i,education:r}=e.baseInfo,{appearance:m,braCup:v,annualIncome:k,parentsMaritalStatus:I,eqScore:M,commitmentScore:S}=e.extInfo,C=[];return l||C.push("出生日期"),D||C.push("身高"),r||C.push("学历"),m||C.push("长相"),x==="男"?(k||C.push("年收入"),(!M||M.length===0)&&C.push("情商评分（至少选择一项）"),S==null&&C.push("长期专一承诺")):x==="女"?(i||C.push("体重"),v||C.push("罩杯"),I||C.push("父母情感状况")):C.push("性别（请先设置用户性别）"),C},ue=async()=>{var l,D,i;const x=Ie();if(x.length>0){z.warning({content:`请先完善以下MV计算必填项：
${x.join("、")}`,duration:5});return}W.value=!0;try{const r=await X.post(`/mv/calculate/${Y}`),m=r.data||r;e.mvScore=m.mvScore,e.mvDetail=m.mvDetail,console.log("MV计算结果 - 性别:",e.baseInfo.gender),console.log("MV计算结果 - mvDetail:",JSON.stringify(e.mvDetail,null,2)),z.success(`MV值计算完成！总分: ${m.mvScore.toFixed(2)}，使用方案: ${m.schemeName}`,5)}catch(r){const m=((D=(l=r.response)==null?void 0:l.data)==null?void 0:D.message)||r.message||"MV值计算失败",v=(i=r.response)==null?void 0:i.status;v===404?z.error("计算服务未找到，请联系管理员或稍后重试",5):v===400?z.error(`数据不完整：${m}`,5):v===500?z.error(`服务器错误：${m}`,5):z.error(`计算失败：${m}`,5),console.error("MV计算错误详情:",r)}finally{W.value=!1}};return Ne(()=>{Y&&ge()}),Be(()=>{f&&(f.dispose(),f=null),G&&(G.dispose(),G=null)}),(x,l)=>{const D=b("a-button"),i=b("a-page-header"),r=b("a-input"),m=b("a-form-item"),v=b("a-col"),k=b("a-select-option"),I=b("a-select"),M=b("a-tooltip"),S=b("a-date-picker"),C=b("a-input-number"),P=b("a-row"),B=b("a-card"),xe=b("a-checkbox"),_=b("a-checkbox-group"),N=b("a-radio"),pe=b("a-radio-group"),J=b("a-textarea"),V=b("a-tag"),le=b("a-space"),$=b("a-descriptions-item"),re=b("a-descriptions"),se=b("a-alert"),he=b("a-progress"),ze=b("a-form"),ve=b("a-tab-pane"),Ae=b("a-tabs"),Ee=b("a-spin");return n(),d("div",It,[a(i,{title:"会员档案详情",onBack:l[0]||(l[0]=()=>O(H).back())},{extra:t(()=>[a(D,{type:"primary",onClick:me,loading:j.value},{default:t(()=>[...l[47]||(l[47]=[c("保存档案",-1)])]),_:1},8,["loading"])]),_:1}),a(Ee,{spinning:q.value},{default:t(()=>[a(Ae,{activeKey:te.value,"onUpdate:activeKey":l[46]||(l[46]=s=>te.value=s)},{default:t(()=>[a(ve,{key:"profile",tab:"档案详情"},{default:t(()=>[a(ze,{ref:"formRef",model:e,layout:"vertical",class:"profile-form"},{default:t(()=>[a(B,{title:"基础信息",class:"mb-4"},{default:t(()=>[a(P,{gutter:24},{default:t(()=>[a(v,{span:6},{default:t(()=>[a(m,{label:"用户ID"},{default:t(()=>[a(r,{value:e.userId,"onUpdate:value":l[1]||(l[1]=s=>e.userId=s),disabled:""},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"姓名"},{default:t(()=>[a(r,{value:e.baseInfo.name,"onUpdate:value":l[2]||(l[2]=s=>e.baseInfo.name=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"性别"},{default:t(()=>[a(I,{value:e.baseInfo.gender,"onUpdate:value":l[3]||(l[3]=s=>e.baseInfo.gender=s)},{default:t(()=>[a(k,{value:"男"},{default:t(()=>[...l[48]||(l[48]=[c("男",-1)])]),_:1}),a(k,{value:"女"},{default:t(()=>[...l[49]||(l[49]=[c("女",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"手机号"},{default:t(()=>[a(r,{value:e.phone,"onUpdate:value":l[4]||(l[4]=s=>e.phone=s),disabled:""},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,null,{label:t(()=>[l[50]||(l[50]=c(" 出生日期 ",-1)),l[51]||(l[51]=u("span",{style:{color:"red"}},"*",-1)),a(M,{title:"MV值计算必填：用于计算年龄维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1}),e.mvDetail&&e.mvDetail.age?(n(),d("span",xt," (得分: "+o(e.mvDetail.age.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(S,{value:e.baseInfo.birthday,"onUpdate:value":l[5]||(l[5]=s=>e.baseInfo.birthday=s),"value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,null,{label:t(()=>[l[52]||(l[52]=c(" 身高 (cm) ",-1)),l[53]||(l[53]=u("span",{style:{color:"red"}},"*",-1)),a(M,{title:e.baseInfo.gender==="女"?"MV值计算必填：用于计算BMI维度":"MV值计算必填：身高维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1},8,["title"]),e.mvDetail&&e.mvDetail.height?(n(),d("span",ht," (身高得分: "+o(e.mvDetail.height.score||0)+"分) ",1)):p("",!0),e.mvDetail&&e.mvDetail.bmi&&e.baseInfo.gender==="女"?(n(),d("span",Dt," (BMI得分: "+o(e.mvDetail.bmi.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(C,{value:e.baseInfo.height,"onUpdate:value":l[6]||(l[6]=s=>e.baseInfo.height=s),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,null,{label:t(()=>[l[54]||(l[54]=c(" 体重 (kg) ",-1)),e.baseInfo.gender==="女"?(n(),d("span",wt,"*")):p("",!0),e.baseInfo.gender==="女"?(n(),y(M,{key:1,title:"MV值计算必填：用于计算BMI维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1})):p("",!0),e.mvDetail&&e.mvDetail.bmi&&e.baseInfo.gender==="女"?(n(),d("span",St," (BMI得分: "+o(e.mvDetail.bmi.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(C,{value:e.baseInfo.weight,"onUpdate:value":l[7]||(l[7]=s=>e.baseInfo.weight=s),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"婚况"},{default:t(()=>[a(I,{value:e.baseInfo.marriage,"onUpdate:value":l[8]||(l[8]=s=>e.baseInfo.marriage=s)},{default:t(()=>[a(k,{value:"未婚"},{default:t(()=>[...l[55]||(l[55]=[c("未婚",-1)])]),_:1}),a(k,{value:"离异未育"},{default:t(()=>[...l[56]||(l[56]=[c("离异未育",-1)])]),_:1}),a(k,{value:"离异带孩"},{default:t(()=>[...l[57]||(l[57]=[c("离异带孩",-1)])]),_:1}),a(k,{value:"丧偶"},{default:t(()=>[...l[58]||(l[58]=[c("丧偶",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,null,{label:t(()=>[l[59]||(l[59]=c(" 学历 ",-1)),l[60]||(l[60]=u("span",{style:{color:"red"}},"*",-1)),a(M,{title:e.baseInfo.gender==="男"?"MV值计算必填：智商维度":"MV值计算必填：学历维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1},8,["title"]),e.mvDetail&&e.mvDetail.intelligence&&e.baseInfo.gender==="男"?(n(),d("span",Ct," (智商: "+o(e.mvDetail.intelligence.score||0)+"分) ",1)):p("",!0),e.mvDetail&&e.mvDetail.education&&e.baseInfo.gender==="女"?(n(),d("span",Tt," (得分: "+o(e.mvDetail.education.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(I,{value:e.baseInfo.education,"onUpdate:value":l[9]||(l[9]=s=>e.baseInfo.education=s)},{default:t(()=>[(n(!0),d(h,null,T(st,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"民族"},{default:t(()=>[a(r,{value:e.baseInfo.ethnicity,"onUpdate:value":l[10]||(l[10]=s=>e.baseInfo.ethnicity=s)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{title:"服务信息",class:"mb-4"},{default:t(()=>[a(P,{gutter:24},{default:t(()=>[a(v,{span:6},{default:t(()=>[a(m,{label:"服务红娘"},{default:t(()=>[a(I,{value:e.serviceMatchmakerId,"onUpdate:value":l[11]||(l[11]=s=>e.serviceMatchmakerId=s),placeholder:"选择服务红娘",disabled:!oe.value},{default:t(()=>[(n(!0),d(h,null,T(ne.value,s=>(n(),y(k,{key:s.id,value:s.id},{default:t(()=>[c(o(s.username)+" ("+o(s.phone)+") ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"会员类型"},{default:t(()=>[a(I,{value:e.extInfo.memberType,"onUpdate:value":l[12]||(l[12]=s=>e.extInfo.memberType=s)},{default:t(()=>[(n(!0),d(h,null,T(Le,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"服务状态"},{default:t(()=>[a(I,{value:e.extInfo.serviceStatus,"onUpdate:value":l[13]||(l[13]=s=>e.extInfo.serviceStatus=s)},{default:t(()=>[(n(!0),d(h,null,T(Ze,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"收费金额"},{default:t(()=>[a(C,{value:e.extInfo.serviceFee,"onUpdate:value":l[14]||(l[14]=s=>e.extInfo.serviceFee=s),formatter:s=>`¥ ${s}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:s=>s.replace(/\¥\s?|(,*)/g,""),style:{width:"100%"}},null,8,["value","formatter","parser"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"服务开始日期"},{default:t(()=>[a(S,{value:e.extInfo.serviceStartDate,"onUpdate:value":l[15]||(l[15]=s=>e.extInfo.serviceStartDate=s),"value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"服务结束日期"},{default:t(()=>[a(S,{value:e.extInfo.serviceEndDate,"onUpdate:value":l[16]||(l[16]=s=>e.extInfo.serviceEndDate=s),"value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),a(v,{span:12},{default:t(()=>[a(m,{label:"状态备注"},{default:t(()=>[a(r,{value:e.extInfo.serviceStatusRemark,"onUpdate:value":l[17]||(l[17]=s=>e.extInfo.serviceStatusRemark=s)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{title:"个人扩展资料",class:"mb-4"},{default:t(()=>[a(P,{gutter:24},{default:t(()=>[a(v,{span:6},{default:t(()=>[a(m,null,{label:t(()=>[l[61]||(l[61]=c(" 长相 ",-1)),l[62]||(l[62]=u("span",{style:{color:"red"}},"*",-1)),a(M,{title:"MV值计算必填：长相维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1}),e.mvDetail&&e.mvDetail.appearance?(n(),d("span",Mt," (得分: "+o(e.mvDetail.appearance.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(I,{value:e.extInfo.appearance,"onUpdate:value":l[18]||(l[18]=s=>e.extInfo.appearance=s)},{default:t(()=>[(n(!0),d(h,null,T(Ge,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"星座"},{default:t(()=>[a(I,{value:e.extInfo.zodiac,"onUpdate:value":l[19]||(l[19]=s=>e.extInfo.zodiac=s)},{default:t(()=>[(n(!0),d(h,null,T(Ke,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"血型"},{default:t(()=>[a(I,{value:e.extInfo.bloodType,"onUpdate:value":l[20]||(l[20]=s=>e.extInfo.bloodType=s)},{default:t(()=>[(n(!0),d(h,null,T(Qe,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"属相"},{default:t(()=>[a(I,{value:e.extInfo.chineseZodiac,"onUpdate:value":l[21]||(l[21]=s=>e.extInfo.chineseZodiac=s)},{default:t(()=>[(n(!0),d(h,null,T(Je,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,null,{label:t(()=>[l[63]||(l[63]=c(" 罩杯 (女) ",-1)),e.baseInfo.gender==="女"?(n(),d("span",Rt,"*")):p("",!0),e.baseInfo.gender==="女"?(n(),y(M,{key:1,title:"MV值计算必填：罩杯维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1})):p("",!0),e.mvDetail&&e.mvDetail.bra_cup&&e.baseInfo.gender==="女"?(n(),d("span",Ut," (得分: "+o(e.mvDetail.bra_cup.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(I,{value:e.extInfo.braCup,"onUpdate:value":l[22]||(l[22]=s=>e.extInfo.braCup=s),disabled:e.baseInfo.gender==="男"},{default:t(()=>[(n(!0),d(h,null,T(Xe,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"健康状况"},{default:t(()=>[a(r,{value:e.extInfo.healthCondition,"onUpdate:value":l[23]||(l[23]=s=>e.extInfo.healthCondition=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"地中海贫血"},{default:t(()=>[a(I,{value:e.extInfo.hasThalassemia,"onUpdate:value":l[24]||(l[24]=s=>e.extInfo.hasThalassemia=s)},{default:t(()=>[(n(!0),d(h,null,T(We,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"地贫详情"},{default:t(()=>[a(r,{value:e.extInfo.thalassemiaDetail,"onUpdate:value":l[25]||(l[25]=s=>e.extInfo.thalassemiaDetail=s),disabled:e.extInfo.hasThalassemia!=="有"},null,8,["value","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{title:"教育与工作",class:"mb-4"},{default:t(()=>[a(P,{gutter:24},{default:t(()=>[a(v,{span:6},{default:t(()=>[a(m,{label:"毕业学校"},{default:t(()=>[a(r,{value:e.extInfo.graduatedSchool,"onUpdate:value":l[26]||(l[26]=s=>e.extInfo.graduatedSchool=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"专业"},{default:t(()=>[a(r,{value:e.extInfo.major,"onUpdate:value":l[27]||(l[27]=s=>e.extInfo.major=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"常住城市"},{default:t(()=>[a(r,{value:e.extInfo.residenceCity,"onUpdate:value":l[28]||(l[28]=s=>e.extInfo.residenceCity=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"工作单位"},{default:t(()=>[a(r,{value:e.extInfo.company,"onUpdate:value":l[29]||(l[29]=s=>e.extInfo.company=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"职称"},{default:t(()=>[a(r,{value:e.extInfo.jobTitle,"onUpdate:value":l[30]||(l[30]=s=>e.extInfo.jobTitle=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,null,{label:t(()=>[l[64]||(l[64]=c(" 年收入 ",-1)),e.baseInfo.gender==="男"?(n(),d("span",Ot,"*")):p("",!0),e.baseInfo.gender==="男"?(n(),y(M,{key:1,title:"MV值计算必填：财富维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1})):p("",!0),e.mvDetail&&e.mvDetail.wealth&&e.baseInfo.gender==="男"?(n(),d("span",Nt," (财富: "+o(e.mvDetail.wealth.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(I,{value:e.extInfo.annualIncome,"onUpdate:value":l[31]||(l[31]=s=>e.extInfo.annualIncome=s)},{default:t(()=>[(n(!0),d(h,null,T(et,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{title:"资产与家庭",class:"mb-4"},{default:t(()=>[a(P,{gutter:24},{default:t(()=>[a(v,{span:6},{default:t(()=>[a(m,{label:"籍贯"},{default:t(()=>[a(r,{value:e.extInfo.hometown,"onUpdate:value":l[32]||(l[32]=s=>e.extInfo.hometown=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"小汽车"},{default:t(()=>[a(I,{value:e.extInfo.hasCar,"onUpdate:value":l[33]||(l[33]=s=>e.extInfo.hasCar=s)},{default:t(()=>[(n(!0),d(h,null,T(tt,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"住房情况"},{default:t(()=>[a(I,{value:e.extInfo.housingStatus,"onUpdate:value":l[34]||(l[34]=s=>e.extInfo.housingStatus=s)},{default:t(()=>[(n(!0),d(h,null,T(at,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:6},{default:t(()=>[a(m,{label:"住房详情"},{default:t(()=>[a(r,{value:e.extInfo.housingDetail,"onUpdate:value":l[35]||(l[35]=s=>e.extInfo.housingDetail=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:12},{default:t(()=>[a(m,{label:"父母学历背景"},{default:t(()=>[a(r,{value:e.extInfo.parentsEducation,"onUpdate:value":l[36]||(l[36]=s=>e.extInfo.parentsEducation=s)},null,8,["value"])]),_:1})]),_:1}),a(v,{span:12},{default:t(()=>[a(m,null,{label:t(()=>[l[65]||(l[65]=c(" 父母情感状况 ",-1)),e.baseInfo.gender==="女"?(n(),d("span",Ft,"*")):p("",!0),e.baseInfo.gender==="女"?(n(),y(M,{key:1,title:"MV值计算必填：家庭环境维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1})):p("",!0),e.mvDetail&&e.mvDetail.family&&e.baseInfo.gender==="女"?(n(),d("span",zt," (家庭: "+o(e.mvDetail.family.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(I,{value:e.extInfo.parentsMaritalStatus,"onUpdate:value":l[37]||(l[37]=s=>e.extInfo.parentsMaritalStatus=s)},{default:t(()=>[(n(!0),d(h,null,T(lt,s=>(n(),y(k,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{title:"个人素质与要求",class:"mb-4"},{default:t(()=>[a(P,{gutter:24},{default:t(()=>[a(v,{span:24},{default:t(()=>[a(m,null,{label:t(()=>[l[66]||(l[66]=c(" 情商评分 (多选) ",-1)),e.baseInfo.gender==="男"?(n(),d("span",At,"*")):p("",!0),e.baseInfo.gender==="男"?(n(),y(M,{key:1,title:"MV值计算必填：情商维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1})):p("",!0),e.mvDetail&&e.mvDetail.eq&&e.baseInfo.gender==="男"?(n(),d("span",Et," (情商: "+o(e.mvDetail.eq.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(_,{value:e.extInfo.eqScore,"onUpdate:value":l[38]||(l[38]=s=>e.extInfo.eqScore=s)},{default:t(()=>[(n(!0),d(h,null,T(ot,s=>(n(),y(xe,{key:s,value:s},{default:t(()=>[c(o(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:24},{default:t(()=>[a(m,null,{label:t(()=>[l[67]||(l[67]=c(" 长期专一承诺 ",-1)),e.baseInfo.gender==="男"?(n(),d("span",Pt,"*")):p("",!0),e.baseInfo.gender==="男"?(n(),y(M,{key:1,title:"MV值计算必填：长期专一承诺维度"},{default:t(()=>[a(O(Z),{style:{"margin-left":"4px",color:"#999"}})]),_:1})):p("",!0),e.mvDetail&&e.mvDetail.commitment&&e.baseInfo.gender==="男"?(n(),d("span",$t," (承诺: "+o(e.mvDetail.commitment.score||0)+"分) ",1)):p("",!0)]),default:t(()=>[a(pe,{value:e.extInfo.commitmentScore,"onUpdate:value":l[39]||(l[39]=s=>e.extInfo.commitmentScore=s)},{default:t(()=>[(n(!0),d(h,null,T(nt,s=>(n(),y(N,{key:s.value,value:s.value},{default:t(()=>[c(o(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(v,{span:12},{default:t(()=>[a(m,{label:"兴趣爱好"},{default:t(()=>[a(J,{value:e.extInfo.hobbies,"onUpdate:value":l[40]||(l[40]=s=>e.extInfo.hobbies=s),rows:3},null,8,["value"])]),_:1})]),_:1}),a(v,{span:12},{default:t(()=>[a(m,{label:"技能证书"},{default:t(()=>[a(J,{value:e.extInfo.skills,"onUpdate:value":l[41]||(l[41]=s=>e.extInfo.skills=s),rows:3},null,8,["value"])]),_:1})]),_:1}),a(v,{span:24},{default:t(()=>[a(m,{label:"红娘评语 (500字)"},{default:t(()=>[a(J,{value:e.extInfo.matchmakerComments,"onUpdate:value":l[42]||(l[42]=s=>e.extInfo.matchmakerComments=s),rows:4,"show-count":"",maxlength:500},null,8,["value"])]),_:1})]),_:1}),a(v,{span:24},{default:t(()=>[a(m,{label:"个人简介"},{default:t(()=>[a(J,{value:e.extInfo.intro,"onUpdate:value":l[43]||(l[43]=s=>e.extInfo.intro=s),rows:3},null,8,["value"])]),_:1})]),_:1}),a(v,{span:24},{default:t(()=>[a(m,{label:"择偶要求"},{default:t(()=>[a(J,{value:e.extInfo.partnerRequirements,"onUpdate:value":l[44]||(l[44]=s=>e.extInfo.partnerRequirements=s),rows:3},null,8,["value"])]),_:1})]),_:1}),a(v,{span:24},{default:t(()=>[a(m,{label:"备注"},{default:t(()=>[a(J,{value:e.extInfo.remarks,"onUpdate:value":l[45]||(l[45]=s=>e.extInfo.remarks=s),rows:2},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{title:"测评结果 (后台计算/同步)",class:"mb-4"},{default:t(()=>[g.enneagram?(n(),y(B,{key:0,type:"inner",title:"九型人格测评结果",class:"mb-4"},{default:t(()=>[a(re,{bordered:"",size:"small",column:2,class:"mb-3",labelStyle:{width:"200px"}},{default:t(()=>[a($,{label:"测评结果详情",span:2},{default:t(()=>[a(le,{direction:"vertical",style:{width:"100%"}},{default:t(()=>{var s;return[(n(!0),d(h,null,T((s=K.value)==null?void 0:s.sortedTypes,R=>(n(),d("div",{key:R.type,style:{display:"flex","justify-content":"space-between",padding:"4px 0"}},[u("span",null,[a(V,{color:K.value.top3.includes(R.type)?"blue":"default"},{default:t(()=>[c(o(R.type)+"号 ",1)]),_:2},1032,["color"]),c(" "+o(R.label),1)]),u("span",Bt,o((R.percentage*100).toFixed(2))+"%",1)]))),128))]}),_:1})]),_:1}),a($,{label:"Top3 性格类型",span:2},{default:t(()=>[a(le,null,{default:t(()=>{var s;return[(n(!0),d(h,null,T((s=K.value)==null?void 0:s.top3,R=>(n(),y(V,{key:R,color:"blue"},{default:t(()=>[c(o(R)+"号 - "+o(O(He)[R]),1)]),_:2},1024))),128))]}),_:1})]),_:1})]),_:1}),a(re,{bordered:"",size:"small",column:1,labelStyle:{width:"200px"}},{default:t(()=>{var s;return[a($,{label:"可匹配异性性格 (按优先级排序)"},{default:t(()=>[a(le,{direction:"vertical",style:{width:"100%"}},{default:t(()=>{var R;return[(n(!0),d(h,null,T((R=K.value)==null?void 0:R.matchedTypes,F=>(n(),d("div",{key:F.type,style:{display:"flex","justify-content":"space-between",padding:"4px 0"}},[u("span",null,[a(V,{color:F.score>=3?"red":F.score===2?"orange":F.score===1?"green":"default"},{default:t(()=>[c(o(fe.value)+o(F.type)+"号 ",1)]),_:2},1032,["color"]),c(" "+o(F.label),1)]),u("span",null,[a(V,{color:F.score>=3?"red":F.score===2?"orange":"green"},{default:t(()=>[c(o(F.priority),1)]),_:2},1032,["color"])])]))),128))]}),_:1})]),_:1}),((s=K.value)==null?void 0:s.unmatchedTypes.length)>0?(n(),y($,{key:0,label:"不匹配的异性类型 (互斥)"},{default:t(()=>[a(le,null,{default:t(()=>{var R;return[(n(!0),d(h,null,T((R=K.value)==null?void 0:R.unmatchedTypes,F=>(n(),y(V,{key:F.type,color:"error"},{default:t(()=>[c(o(fe.value)+o(F.type)+"号 - "+o(F.label),1)]),_:2},1024))),128))]}),_:1})]),_:1})):p("",!0),a($,{label:"匹配结论",span:2},{default:t(()=>{var R;return[u("div",Vt,o((R=K.value)==null?void 0:R.conclusion),1)]}),_:1})]}),_:1})]),_:1})):(n(),y(se,{key:1,message:"暂无九型人格测评数据",type:"info","show-icon":"",class:"mb-4"})),g.attachment?(n(),y(B,{key:2,type:"inner",title:"依恋关系测评结果",class:"mb-4"},{default:t(()=>[a(re,{bordered:"",size:"small",column:1,labelStyle:{width:"200px"}},{default:t(()=>{var s,R,F,Ce;return[a($,{label:"依恋类型"},{default:t(()=>{var ce,ye,Te,Me;return[((ce=g.attachment.resultData)==null?void 0:ce.type)==="得分不足"||(Te=(ye=g.attachment.resultData)==null?void 0:ye.type)!=null&&Te.includes("待进一步沟通")?(n(),d("div",Yt,[a(se,{message:"得分不足",description:"三个维度得分都低于5分，无法给出具体的依恋类型",type:"warning","show-icon":""})])):U.value?(n(),d("div",jt,[a(V,{color:U.value.color,style:{"font-size":"14px",padding:"4px 12px"}},{default:t(()=>[c(o(U.value.fullName),1)]),_:1},8,["color"]),a(V,{color:"purple",style:{"margin-left":"8px"}},{default:t(()=>[c(o(U.value.label),1)]),_:1}),u("div",qt," 维度组合："+o(U.value.dimensions),1)])):(n(),d("div",Ht,o(((Me=g.attachment.resultData)==null?void 0:Me.type)||"暂无数据"),1))]}),_:1}),a($,{label:"三维度得分详情"},{default:t(()=>[g.attachment.resultData?(n(),d("div",Lt,[u("div",null,[u("div",Zt,[u("span",Gt,[a(V,{color:"orange"},{default:t(()=>[...l[68]||(l[68]=[c("A",-1)])]),_:1}),l[69]||(l[69]=c(" 焦虑维度（Anxiety） ",-1))]),u("span",Kt,o(g.attachment.resultData.anxietyScore||0)+"/12 分 ",1)]),a(he,{percent:(g.attachment.resultData.anxietyScore||0)/12*100,"show-info":!1,"stroke-color":"#fa8c16"},null,8,["percent"]),u("div",Qt,o(O(we)("A",g.attachment.resultData.anxietyScore||0)),1)]),u("div",null,[u("div",Jt,[u("span",Xt,[a(V,{color:"blue"},{default:t(()=>[...l[70]||(l[70]=[c("B",-1)])]),_:1}),l[71]||(l[71]=c(" 回避维度（Avoidance） ",-1))]),u("span",Wt,o(g.attachment.resultData.avoidanceScore||0)+"/12 分 ",1)]),a(he,{percent:(g.attachment.resultData.avoidanceScore||0)/12*100,"show-info":!1,"stroke-color":"#1890ff"},null,8,["percent"]),u("div",ea,o(O(we)("B",g.attachment.resultData.avoidanceScore||0)),1)]),u("div",null,[u("div",ta,[u("span",aa,[a(V,{color:"green"},{default:t(()=>[...l[72]||(l[72]=[c("C",-1)])]),_:1}),l[73]||(l[73]=c(" 安全感维度（Security） ",-1))]),u("span",la,o(g.attachment.resultData.securityScore||0)+"/12 分 ",1)]),a(he,{percent:(g.attachment.resultData.securityScore||0)/12*100,"show-info":!1,"stroke-color":"#52c41a"},null,8,["percent"]),u("div",sa,o(O(we)("C",g.attachment.resultData.securityScore||0)),1)])])):(n(),d("div",na,"暂无数据"))]),_:1}),U.value&&((s=g.attachment.resultData)==null?void 0:s.type)!=="得分不足"?(n(),y($,{key:0,label:"核心特质"},{default:t(()=>[u("div",oa,o(U.value.coreTraits),1)]),_:1})):p("",!0),U.value&&((R=g.attachment.resultData)==null?void 0:R.type)!=="得分不足"?(n(),y($,{key:1,label:"典型行为表现"},{default:t(()=>[u("ul",ia,[(n(!0),d(h,null,T(U.value.behaviors,(ce,ye)=>(n(),d("li",{key:ye},o(ce),1))),128))])]),_:1})):p("",!0),U.value&&(U.value.advantage||U.value.painPoint)&&((F=g.attachment.resultData)==null?void 0:F.type)!=="得分不足"?(n(),y($,{key:2,label:(Ce=U.value)!=null&&Ce.advantage?"相处优势":"核心痛点"},{default:t(()=>[a(se,{type:U.value.advantage?"success":"warning",message:U.value.advantage||U.value.painPoint,"show-icon":"",style:{"line-height":"1.8"}},null,8,["type","message"])]),_:1},8,["label"])):p("",!0)]}),_:1})]),_:1})):(n(),y(se,{key:3,message:"暂无依恋关系测评数据",type:"info","show-icon":"",class:"mb-4"})),g.happiness?(n(),y(B,{key:4,type:"inner",title:"婚恋幸福力测评结果",class:"mb-4"},{default:t(()=>[u("div",ua,[u("div",ra,[l[74]||(l[74]=u("h4",{style:{"margin-bottom":"16px","font-size":"15px",color:"#333"}},"用户测试结果",-1)),u("div",{ref_key:"userHappinessChartRef",ref:L,style:{width:"500px",height:"500px"}},null,512)]),u("div",da,[l[75]||(l[75]=u("h4",{style:{"margin-bottom":"16px","font-size":"15px",color:"#333"}},"满分图例参考",-1)),u("div",{ref_key:"fullHappinessChartRef",ref:ie,style:{width:"500px",height:"500px"}},null,512)])]),Q.value?(n(),y(re,{key:0,bordered:"",size:"small",column:1},{default:t(()=>[a($,{label:"详细分析",labelStyle:{width:"200px"}},{default:t(()=>[u("div",fa,[Q.value.highScoreText?(n(),y(se,{key:0,type:"info","show-icon":"",style:{"line-height":"1.8"}},{message:t(()=>[u("span",ma,o(Q.value.highScoreText),1)]),_:1})):p("",!0),Q.value.lowScoreText?(n(),y(se,{key:1,type:"warning","show-icon":"",style:{"line-height":"1.8"}},{message:t(()=>[u("span",pa,o(Q.value.lowScoreText),1)]),_:1})):p("",!0),!Q.value.highScoreText&&!Q.value.lowScoreText?(n(),d("div",va," ✅ 用户各项幸福力指标表现优秀，保持良好！ ")):p("",!0)])]),_:1})]),_:1})):p("",!0)]),_:1})):(n(),y(se,{key:5,message:"暂无幸福力测评数据",type:"info","show-icon":"",class:"mb-4"})),a(B,{type:"inner",title:"MV值 (后台计算)",class:"mb-4"},{default:t(()=>[a(re,{bordered:"",column:1,labelStyle:{width:"200px"}},{default:t(()=>[a($,{label:"MV总分"},{default:t(()=>[e.mvScore!==null&&e.mvScore!==void 0?(n(),d("div",ca,[u("span",ya,o(Number(e.mvScore).toFixed(2)),1),l[77]||(l[77]=u("span",{style:{color:"#666"}},"分",-1)),a(D,{type:"link",size:"small",onClick:ue,loading:W.value},{default:t(()=>[...l[76]||(l[76]=[c("重新计算",-1)])]),_:1},8,["loading"])])):(n(),d("div",_a,[l[79]||(l[79]=c(" 暂未计算 ",-1)),a(D,{type:"primary",size:"small",onClick:ue,loading:W.value},{default:t(()=>[...l[78]||(l[78]=[c("立即计算",-1)])]),_:1},8,["loading"])]))]),_:1}),e.mvDetail?(n(),y($,{key:0,label:"各维度得分详情"},{default:t(()=>[u("div",ba,[e.baseInfo.gender==="男"?(n(),d(h,{key:0},[e.mvDetail.age?(n(),d("div",ga,[l[80]||(l[80]=u("span",{class:"dimension-label"},"年龄:",-1)),u("span",ka,o(e.mvDetail.age.value||"-"),1),u("span",Ia,o(e.mvDetail.age.score||0)+"分",1),u("span",xa,"("+o(e.mvDetail.age.label||"未评")+")",1)])):p("",!0),e.mvDetail.height?(n(),d("div",ha,[l[81]||(l[81]=u("span",{class:"dimension-label"},"身高:",-1)),u("span",Da,o(e.mvDetail.height.value||"-")+"cm",1),u("span",wa,o(e.mvDetail.height.score||0)+"分",1),u("span",Sa,"("+o(e.mvDetail.height.label||"未评")+")",1)])):p("",!0),e.mvDetail.appearance?(n(),d("div",Ca,[l[82]||(l[82]=u("span",{class:"dimension-label"},"长相:",-1)),u("span",Ta,o(e.mvDetail.appearance.value||"-"),1),u("span",Ma,o(e.mvDetail.appearance.score||0)+"分",1),u("span",Ra,"("+o(e.mvDetail.appearance.label||"未评")+")",1)])):p("",!0),e.mvDetail.wealth?(n(),d("div",Ua,[l[83]||(l[83]=u("span",{class:"dimension-label"},"财富:",-1)),u("span",Oa,o(e.mvDetail.wealth.value||"-"),1),u("span",Na,o(e.mvDetail.wealth.score||0)+"分",1),u("span",Fa,"("+o(e.mvDetail.wealth.label||"未评")+")",1)])):p("",!0),e.mvDetail.intelligence?(n(),d("div",za,[l[84]||(l[84]=u("span",{class:"dimension-label"},"智商:",-1)),u("span",Aa,o(e.mvDetail.intelligence.value||"-"),1),u("span",Ea,o(e.mvDetail.intelligence.score||0)+"分",1),u("span",Pa,"("+o(e.mvDetail.intelligence.label||"未评")+")",1)])):p("",!0),e.mvDetail.eq?(n(),d("div",$a,[l[85]||(l[85]=u("span",{class:"dimension-label"},"情商:",-1)),u("span",Ba,o(Array.isArray(e.mvDetail.eq.value)?e.mvDetail.eq.value.join("、"):e.mvDetail.eq.value||"-"),1),u("span",Va,o(e.mvDetail.eq.score||0)+"分",1),u("span",Ya,"("+o(e.mvDetail.eq.label||"未评")+")",1)])):p("",!0),e.mvDetail.sexual_ability?(n(),d("div",ja,[l[86]||(l[86]=u("span",{class:"dimension-label"},"性能力:",-1)),u("span",qa,o(e.mvDetail.sexual_ability.value||"-"),1),u("span",Ha,o(e.mvDetail.sexual_ability.score||0)+"分",1),u("span",La,"("+o(e.mvDetail.sexual_ability.label||"未评")+")",1)])):p("",!0),e.mvDetail.commitment?(n(),d("div",Za,[l[87]||(l[87]=u("span",{class:"dimension-label"},"长期专一承诺:",-1)),u("span",Ga,o(e.mvDetail.commitment.value||"-"),1),u("span",Ka,o(e.mvDetail.commitment.score||0)+"分",1),u("span",Qa,"("+o(e.mvDetail.commitment.label||"未评")+")",1)])):p("",!0)],64)):e.baseInfo.gender==="女"?(n(),d(h,{key:1},[e.mvDetail.age?(n(),d("div",Ja,[l[88]||(l[88]=u("span",{class:"dimension-label"},"年龄:",-1)),u("span",Xa,o(e.mvDetail.age.value||"-"),1),u("span",Wa,o(e.mvDetail.age.score||0)+"分",1),u("span",el,"("+o(e.mvDetail.age.label||"未评")+")",1)])):p("",!0),e.mvDetail.height?(n(),d("div",tl,[l[89]||(l[89]=u("span",{class:"dimension-label"},"身高:",-1)),u("span",al,o(e.mvDetail.height.value||"-")+"cm",1),u("span",ll,o(e.mvDetail.height.score||0)+"分",1),u("span",sl,"("+o(e.mvDetail.height.label||"未评")+")",1)])):p("",!0),e.mvDetail.bmi?(n(),d("div",nl,[l[90]||(l[90]=u("span",{class:"dimension-label"},"BMI:",-1)),u("span",ol,o(e.mvDetail.bmi.value||"-"),1),u("span",il,o(e.mvDetail.bmi.score||0)+"分",1),u("span",ul,"("+o(e.mvDetail.bmi.label||"未评")+")",1)])):p("",!0),e.mvDetail.appearance?(n(),d("div",rl,[l[91]||(l[91]=u("span",{class:"dimension-label"},"长相:",-1)),u("span",dl,o(e.mvDetail.appearance.value||"-"),1),u("span",fl,o(e.mvDetail.appearance.score||0)+"分",1),u("span",ml,"("+o(e.mvDetail.appearance.label||"未评")+")",1)])):p("",!0),e.mvDetail.bra_cup?(n(),d("div",pl,[l[92]||(l[92]=u("span",{class:"dimension-label"},"罩杯:",-1)),u("span",vl,o(e.mvDetail.bra_cup.value||"-"),1),u("span",cl,o(e.mvDetail.bra_cup.score||0)+"分",1),u("span",yl,"("+o(e.mvDetail.bra_cup.label||"未评")+")",1)])):p("",!0),e.mvDetail.education?(n(),d("div",_l,[l[93]||(l[93]=u("span",{class:"dimension-label"},"学历:",-1)),u("span",bl,o(e.mvDetail.education.value||"-"),1),u("span",gl,o(e.mvDetail.education.score||0)+"分",1),u("span",kl,"("+o(e.mvDetail.education.label||"未评")+")",1)])):p("",!0),e.mvDetail.personality?(n(),d("div",Il,[l[94]||(l[94]=u("span",{class:"dimension-label"},"性格:",-1)),u("span",xl,o(e.mvDetail.personality.value||"-"),1),u("span",hl,o(e.mvDetail.personality.score||0)+"分",1),u("span",Dl,"("+o(e.mvDetail.personality.label||"未评")+")",1)])):p("",!0),e.mvDetail.family?(n(),d("div",wl,[l[95]||(l[95]=u("span",{class:"dimension-label"},"家庭环境:",-1)),u("span",Sl,o(e.mvDetail.family.value||"-"),1),u("span",Cl,o(e.mvDetail.family.score||0)+"分",1),u("span",Tl,"("+o(e.mvDetail.family.label||"未评")+")",1)])):p("",!0)],64)):(n(),d("div",Ml," 请先设置用户性别后重新计算 "))])]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(ve,{key:"matchTrack",tab:"匹配轨迹"},{default:t(()=>[a(Se,{"user-id":O(Y),type:1,"user-name":e.baseInfo.name},null,8,["user-id","user-name"])]),_:1}),a(ve,{key:"dateTrack",tab:"约见轨迹"},{default:t(()=>[a(Se,{"user-id":O(Y),type:2,"user-name":e.baseInfo.name},null,8,["user-id","user-name"])]),_:1}),a(ve,{key:"therapyTrack",tab:"治疗轨迹"},{default:t(()=>[a(Se,{"user-id":O(Y),type:3,"user-name":e.baseInfo.name},null,8,["user-id","user-name"])]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["spinning"])])}}}),Nl=Fe(Rl,[["__scopeId","data-v-80d97a25"]]);export{Nl as default};
